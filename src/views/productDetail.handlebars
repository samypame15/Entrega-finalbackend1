
<h1 class="my-4 text-center">{{product.title}}</h1>

<div class="card shadow-sm mx-auto" style="max-width: 500px;">
  {{#if product.thumbnail}}
    <img src="{{product.thumbnail}}" alt="{{product.title}}" class="card-img-top" style="max-height: 300px; object-fit: contain;" />
  {{else}}
    <div class="text-center p-4 bg-light text-muted">Sin imagen disponible</div>
  {{/if}}

  <div class="card-body">
    <p class="card-text text-center">
      {{product.description}}<br />
      <strong>Precio:</strong> {{formatCurrency product.price}}<br />
      <strong>CategorÃ­a:</strong> {{product.category}}<br />
      <strong>Stock disponible:</strong> {{product.stock}}<br />
    </p>

    {{#if errorMessage}}
      <div class="alert alert-danger text-center">{{errorMessage}}</div>
    {{/if}}

    {{#if cartId}}
      <div class="d-flex justify-content-center">
        <form action="/api/carts/{{cartId}}/products/{{product._id}}" method="POST" class="mt-3">
          <div class="input-group mb-3">
            <input type="number" name="quantity" min="1" max="{{product.stock}}" value="1" class="form-control" required />
            <button type="submit" class="btn btn-success">Agregar al carrito</button>
          </div>
        </form>
      </div>
    {{else}}
      <div class="alert alert-warning mt-3 text-center">ðŸ”’ Debes tener un carrito activo para agregar productos.</div>
    {{/if}}

    <div class="d-flex justify-content-center">
      <a href="/products" class="btn btn-secondary mt-3">â¬… Volver a productos</a>
    </div>
  </div>
</div>
